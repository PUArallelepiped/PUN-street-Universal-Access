openapi: 3.0.3
info:
  title: PUN street Universal Access - OpenAPI 3.0
  description: pua
  version: v1
servers:
- url: http://localhost:5000/api/v1
paths:
  /store/{storeID}:
    get:
      tags:
      - store
      summary: return a store by ID
      parameters:
      - name: storeID
        in: path
        description: The ID of the store to return.
        required: true
        content:
          application/json:
            schema:
              type: string
              example: "1"
              x-content-type: application/json
      responses:
        "200":
          description: A Store object.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StoreInfo'
        "500":
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /stores:
    get:
      tags:
      - store
      summary: return store array
      responses:
        "200":
          description: return store array
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StoreArray'
        "500":
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /products:
    post:
      tags:
      - product
      summary: return products array  by store ID
      requestBody:
        description: store id.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/products_body'
        required: true
      responses:
        "200":
          description: return product array
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProductArray'
        "400":
          description: bad request
        "500":
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /cart/{customerID}/{productID}/{storeID}:
    get:
      tags:
      - cart
      summary: return a cart by ID
      parameters:
      - name: customerID
        in: path
        description: The ID of the table to return
        required: true
        content:
          application/json:
            schema:
              type: string
              example: "1"
              x-content-type: application/json
      - name: productID
        in: path
        description: The ID of the table to return
        required: true
        content:
          application/json:
            schema:
              type: string
              example: "1"
              x-content-type: application/json
      - name: storeID
        in: path
        description: The ID of the table to return
        required: true
        content:
          application/json:
            schema:
              type: string
              example: "1"
              x-content-type: application/json
      responses:
        "200":
          description: A cart object.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CartInfo'
        "500":
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /cart:
    post:
      tags:
      - cart
      summary: add a new cart to db and return a cart from db
      requestBody:
        description: add a new cart.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CartInfo'
        required: true
      responses:
        "200":
          description: A cart object.
        "500":
          description: Unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
components:
  schemas:
    StoreInfo:
      required:
      - address
      - email
      - name
      - phone
      - store_id
      type: object
      properties:
        store_id:
          type: integer
          format: int64
          example: 1
        name:
          type: string
          example: i'm pasta
        address:
          type: string
          example: pun street
        email:
          type: string
          example: pasta@pasta.com
        phone:
          type: string
          example: "0912345678"
      example:
        store_id: 1
        address: pun street
        phone: "0912345678"
        name: i'm pasta
        email: pasta@pasta.com
    ProductInfo:
      required:
      - catogory_id
      - description
      - name
      - price
      - product_id
      - storage
      type: object
      properties:
        product_id:
          type: integer
          format: int64
          example: 1
        name:
          type: string
          example: pasta
        catogory_id:
          type: integer
          format: int64
          example: 1
        description:
          type: string
          example: tasty pasta
        price:
          type: integer
          format: int64
          example: 9999
        storage:
          type: integer
          format: int64
          example: 100
      example:
        catogory_id: 1
        price: 9999
        product_id: 1
        name: pasta
        description: tasty pasta
        storage: 100
    CartInfo:
      required:
      - customer_id
      - product_id
      - product_quantity
      - store_id
      type: object
      properties:
        product_quantity:
          type: integer
          format: int64
          example: 10
        customer_id:
          type: integer
          format: int64
          example: 1
        product_id:
          type: integer
          format: int64
          example: 1
        store_id:
          type: integer
          format: int64
          example: 1
      example:
        store_id: 1
        product_id: 1
        customer_id: 1
        product_quantity: 10
    StoreArray:
      type: array
      items:
        $ref: '#/components/schemas/StoreInfo'
      x-schema-name: StoreArray
    ProductArray:
      type: array
      items:
        $ref: '#/components/schemas/ProductInfo'
      x-schema-name: ProductArray
    Error:
      required:
      - code
      - message
      type: object
      properties:
        message:
          type: string
          example: internal error
        code:
          type: integer
          format: int64
          example: 3000
    products_body:
      required:
      - store_id
      type: object
      properties:
        store_id:
          type: integer
          format: int64
          example: 1
